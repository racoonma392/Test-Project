<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #1a1a2e;
            font-family: 'Courier New', Consolas, monospace;
            position: relative;
        }

        .background-message {
            position: absolute;
            color: white;
            font-size: 0.9rem;
            font-family: 'Courier New', Consolas, monospace;
            user-select: none;
            pointer-events: none;
            z-index: 0;
            cursor: default;
            transition: opacity 0.2s;
        }

        .background-message.clickable {
            pointer-events: auto;
            cursor: pointer;
        }

        .background-message.clickable:hover {
            opacity: 0.7;
        }

        .terminal {
            width: 600px;
            background: #0d0d0d;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            position: absolute;
            cursor: default;
            z-index: 1;
        }

        .terminal-header {
            background: #2d2d2d;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            cursor: grab;
            user-select: none;
        }

        .terminal-header:active {
            cursor: grabbing;
        }

        .window-controls {
            display: flex;
            margin-left: auto;
            gap: 0;
        }

        .terminal-btn {
            width: 46px;
            height: 30px;
            border: none;
            background: transparent;
            color: #888;
            font-family: 'Segoe UI', Arial, sans-serif;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.15s;
        }

        .terminal-btn:hover {
            background: #3d3d3d;
        }

        .btn-close:hover {
            background: #e81123;
            color: white;
        }

        .btn-minimize:hover, .btn-maximize:hover {
            background: #3d3d3d;
            color: white;
        }

        .btn-minimize {
            font-size: 22px;
            margin-top: 3px;
        }

        .btn-maximize {
            font-size: 26px;
            line-height: 1;
            margin-top: -3px;
            position: relative;
        }

        .btn-maximize.restore {
            font-size: 0;
        }

        .btn-maximize.restore::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border: 2px solid #888;
            top: 8px;
            left: 19px;
        }

        .btn-maximize.restore::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border: 2px solid #888;
            top: 12px;
            left: 15px;
            background: #2d2d2d;
        }

        .btn-maximize.restore:hover::before,
        .btn-maximize.restore:hover::after {
            border-color: white;
        }

        .btn-maximize.restore:hover::after {
            background: #3d3d3d;
        }

        .terminal.minimized .terminal-body {
            display: none;
        }

        .terminal.minimized-corner {
            bottom: 20px !important;
            right: 20px !important;
            left: auto !important;
            top: auto !important;
        }

        .terminal.fullscreen {
            width: 100vw !important;
            height: 100vh !important;
            top: 0 !important;
            left: 0 !important;
            border-radius: 0;
        }

        .terminal.fullscreen .terminal-body {
            height: calc(100vh - 44px);
            overflow-y: auto;
        }

        .terminal-title {
            color: #888;
            font-size: 14px;
            margin-left: 8px;
        }

        .terminal-body {
            padding: 24px;
            min-height: 200px;
        }

        .prompt {
            color: #27ca40;
            margin-bottom: 8px;
        }

        .command {
            color: #fff;
        }

        .output {
            color: #00d9ff;
            font-size: 2rem;
            margin: 16px 0;
        }

        .author {
            color: #888;
            font-size: 1rem;
        }

        .input-text {
            color: #fff;
        }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 20px;
            background: #27ca40;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="background-message">Peekaboo!</div>
    <div class="terminal">
        <div class="terminal-header">
            <span class="terminal-title">Chatbot</span>
            <div class="window-controls">
                <button class="terminal-btn btn-minimize">&#8211;</button>
                <button class="terminal-btn btn-maximize">&#9633;</button>
                <button class="terminal-btn btn-close">&#10005;</button>
            </div>
        </div>
        <div class="terminal-body">
            <div class="output">Hello World!</div>
            <div class="output" style="font-size: 1rem; margin: 8px 0;">Type something to chat with me! Type "clear" to clear the chat. Type "Help" for help.</div>
            <div class="prompt input-line">> <span class="input-text"></span><span class="cursor"></span></div>
        </div>
    </div>

    <script>
        const terminal = document.querySelector('.terminal');
        const header = document.querySelector('.terminal-header');
        let isDragging = false;
        let offsetX, offsetY;

        header.addEventListener('mousedown', (e) => {
            isDragging = true;
            offsetX = e.clientX - terminal.offsetLeft;
            offsetY = e.clientY - terminal.offsetTop;
        });

        function ensureVisible() {
            const rect = terminal.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;

            let newLeft = rect.left;
            let newTop = rect.top;

            if (rect.right > viewportWidth) {
                newLeft -= (rect.right - viewportWidth + 10);
            }
            if (rect.bottom > viewportHeight) {
                newTop -= (rect.bottom - viewportHeight + 10);
            }
            if (newLeft < 10) {
                newLeft = 10;
            }
            if (newTop < 10) {
                newTop = 10;
            }

            if (newLeft !== rect.left || newTop !== rect.top) {
                terminal.style.left = newLeft + 'px';
                terminal.style.top = newTop + 'px';
            }
        }

        header.addEventListener('click', (e) => {
            if (terminal.classList.contains('minimized')) {
                terminal.classList.remove('minimized');
                terminal.classList.remove('minimized-corner');
                setTimeout(ensureVisible, 0);
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                terminal.style.left = (e.clientX - offsetX) + 'px';
                terminal.style.top = (e.clientY - offsetY) + 'px';
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
        });

        // Window control buttons
        const btnClose = document.querySelector('.btn-close');
        const btnMinimize = document.querySelector('.btn-minimize');
        const btnFullscreen = document.querySelector('.btn-maximize');

        const backgroundMessage = document.querySelector('.background-message');

        btnClose.addEventListener('click', (e) => {
            e.stopPropagation();
            terminal.style.display = 'none';
            backgroundMessage.classList.add('clickable');
        });

        backgroundMessage.addEventListener('click', () => {
            if (backgroundMessage.classList.contains('clickable')) {
                terminal.style.display = '';
                terminal.classList.remove('fullscreen');
                terminal.classList.remove('minimized');
                terminal.classList.remove('minimized-corner');
                btnFullscreen.classList.remove('restore');
                backgroundMessage.classList.remove('clickable');
            }
        });

        btnMinimize.addEventListener('click', (e) => {
            e.stopPropagation();
            const wasFullscreen = terminal.classList.contains('fullscreen');
            const wasMinimized = terminal.classList.contains('minimized');
            terminal.classList.remove('fullscreen');

            if (wasFullscreen) {
                terminal.classList.toggle('minimized-corner');
                terminal.classList.toggle('minimized');
            } else {
                terminal.classList.remove('minimized-corner');
                terminal.classList.toggle('minimized');
            }

            if (wasMinimized) {
                setTimeout(ensureVisible, 0);
            }
        });

        btnFullscreen.addEventListener('click', (e) => {
            e.stopPropagation();
            const wasMinimized = terminal.classList.contains('minimized');
            terminal.classList.remove('minimized');
            terminal.classList.remove('minimized-corner');
            terminal.classList.toggle('fullscreen');

            if (terminal.classList.contains('fullscreen')) {
                btnFullscreen.classList.add('restore');
            } else {
                btnFullscreen.classList.remove('restore');
                setTimeout(ensureVisible, 0);
            }
        });

        // Terminal typing functionality
        const terminalBody = document.querySelector('.terminal-body');
        let inputText = document.querySelector('.input-text');
        let currentInput = '';

        document.addEventListener('keydown', (e) => {
            if (isDragging) return;

            if (e.key === 'Backspace') {
                currentInput = currentInput.slice(0, -1);
                inputText.textContent = currentInput;
                e.preventDefault();
            } else if (e.key === 'Enter') {
                processCommand(currentInput);
                currentInput = '';
                e.preventDefault();
            } else if (e.key.length === 1) {
                currentInput += e.key;
                inputText.textContent = currentInput;
            }
        });

        function processCommand(cmd) {
            const inputLine = document.querySelector('.input-line');
            inputLine.classList.remove('input-line');
            inputLine.innerHTML = `> <span class="command">${escapeHtml(cmd)}</span>`;

            // Add response output
            const output = document.createElement('div');
            output.className = 'output';
            output.style.fontSize = '1rem';
            output.style.margin = '8px 0';

            const response = getResponse(cmd);

            if (cmd.toLowerCase() === 'clear') {
                terminalBody.innerHTML = `
                    <div class="output">Hello World!</div>
                    <div class="output" style="font-size: 1rem; margin: 8px 0;">Type something to chat with me! Type "clear" to clear the chat. Type "Help" for help.</div>
                `;
            } else if (response) {
                output.textContent = response;
                terminalBody.appendChild(output);
            }

            // Add new input line
            const newPrompt = document.createElement('div');
            newPrompt.className = 'prompt input-line';
            newPrompt.innerHTML = '> <span class="input-text"></span><span class="cursor"></span>';
            terminalBody.appendChild(newPrompt);
            inputText = newPrompt.querySelector('.input-text');
        }

        function getResponse(input) {
            const text = input.toLowerCase().trim();

            if (!text) return '';

            // Greetings
            if (/^(hi|hello|hey|howdy|greetings|yo|sup)/.test(text)) {
                const greetings = ["Hello!", "Hey there!", "Hi! How can I help you?", "Hello! Nice to meet you!"];
                return greetings[Math.floor(Math.random() * greetings.length)];
            }

            // How are you
            if (/how are you|how('s| is) it going|what's up|how do you do/.test(text)) {
                const responses = ["I'm doing great, thanks for asking!", "All systems running smoothly!", "I'm good! How about you?"];
                return responses[Math.floor(Math.random() * responses.length)];
            }

            // Name questions
            if (/what('s| is) your name|who are you/.test(text)) {
                return "I'm Chatbot!";
            }

            // My name is
            if (/my name is|i'm |i am /.test(text)) {
                const name = text.replace(/my name is|i'm|i am/i, '').trim();
                return `Nice to meet you, ${name}!`;
            }

            // Thank you
            if (/thank|thanks/.test(text)) {
                return "You're welcome!";
            }

            // Goodbye
            if (/bye|goodbye|see you|later|cya/.test(text)) {
                return "Goodbye! Have a great day!";
            }

            // Time
            if (/what time|current time|time is it/.test(text)) {
                return `The current time is ${new Date().toLocaleTimeString()}`;
            }

            // Date
            if (/what('s| is) the date|today's date|what day/.test(text)) {
                return `Today is ${new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`;
            }

            // Help
            if (/help|what can you do/.test(text)) {
                return "I can chat with you! Try saying hello, asking how I am, telling me your name, or asking for the time/date. Type 'clear' to clear the screen.";
            }

            // Jokes
            if (/joke|funny|make me laugh/.test(text)) {
                const jokes = [
                    "Why do programmers prefer dark mode? Because light attracts bugs!",
                    "Why did the developer go broke? Because he used up all his cache!",
                    "There are only 10 types of people in the world: those who understand binary and those who don't."
                ];
                return jokes[Math.floor(Math.random() * jokes.length)];
            }

            // Compliments
            if (/you('re| are) (awesome|great|cool|amazing)/.test(text)) {
                return "Thank you! You're pretty awesome yourself!";
            }

            // Love
            if (/i love you|love you/.test(text)) {
                return "Aw, that's sweet! I appreciate you too!";
            }

            // Default response
            return "no";
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>

</body>
</html>
